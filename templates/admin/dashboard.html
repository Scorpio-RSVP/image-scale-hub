{% extends "admin/base.html" %}
{% block title %}Dashboard{% endblock %}

{% block content %}
<h2 class="section-title">ğŸ  Dashboard</h2>

<div class="form-row" style="margin-bottom: 20px;">
    <div style="background: #e8f4fd; padding: 20px; border-radius: 10px; text-align: center;">
        <div style="font-size: 2em; font-weight: bold; color: #3498db;">{{ total_users }}</div>
        <div style="color: #7f8c8d;">Total Users</div>
    </div>
    <div style="background: #e8f8f5; padding: 20px; border-radius: 10px; text-align: center;">
        <div style="font-size: 2em; font-weight: bold; color: #27ae60;">{{ admin_users }}</div>
        <div style="color: #7f8c8d;">Admins</div>
    </div>
    <div style="background: #fef9e7; padding: 20px; border-radius: 10px; text-align: center;">
        <div style="font-size: 2em; font-weight: bold; color: #f39c12;">{{ total_images }}</div>
        <div style="color: #7f8c8d;">Images</div>
    </div>
    <div style="background: #fdedec; padding: 20px; border-radius: 10px; text-align: center;">
        <div style="font-size: 2em; font-weight: bold; color: #e74c3c;">{{ new_users }}</div>
        <div style="color: #7f8c8d;">New (30d)</div>
    </div>
</div>

<h3 style="margin-top: 30px; margin-bottom: 15px;">ğŸ“‹ Recent Activity</h3>
<table>
    <thead>
        <tr>
            <th>Time</th>
            <th>User</th>
            <th>Action</th>
            <th>Details</th>
        </tr>
    </thead>
    <tbody>
        {% for log in recent_logs %}
        <tr>
            <td>{{ log.created_at.strftime('%Y-%m-%d %H:%M') }}</td>
            <td>{{ log.username or 'System' }}</td>
            <td>{{ log.action }}</td>
            <td>{{ log.details[:50] }}{% if log.details|length > 50 %}...{% endif %}</td>
        </tr>
        {% else %}
        <tr><td colspan="4" style="text-align: center; color: #7f8c8d;">No recent activity</td></tr>
        {% endfor %}
    </tbody>
</table>
{% endblock %}
